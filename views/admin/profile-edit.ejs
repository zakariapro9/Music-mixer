<%- include header %>
<div class="page-header">
      <h1>Profile<small> Edit <%= user.local.username %> profile data</small></h1>
</div>

<div class="row">
    <div class="col-md-6">
        <form>
          <div class="form-group">
            <label>Full Name</label>
            <input type="text" class="form-control" id="firstname" placeholder="First name" value="<%= user.local.first %>">
            <input type="text" class="form-control" id="lastname" placeholder="Last name" value="<%= user.local.last %>">
          </div>
          <div class="form-group">
            <label>Username</label>
            <input type="text" class="form-control" id="username" placeholder="Username" value="<%= user.local.username %>">
          </div>
          <div class="form-group">
            <label>Email address</label>
            <input type="email" class="form-control" id="email" placeholder="email" value="<%= user.local.email %>">
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" id="password" placeholder="Password">
          </div>
          <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" class="form-control" id="confirmPassword" placeholder="Password">
          </div>
          <button type="submit" class="btn btn-default" onclick="saveUserSettings()">Save profile</button>
        </form>
        <br>
        Or edit your <a href="/dashboard">songs</a> list.
    </div>
</div>

<script>
    function saveUserSettings(){
        $.post('/<%= user.local.username %>/edit/', {
            firstname: $("#firstname").val(),
            lastname: $("#lastname").val(),
            username: $("#username").val(),
            email: $("#email").val(),
            password: $("#password").val()
        }).done(function(data){
            location.reload();
        });
    }
</script>

<%- include footer %>
